(this["webpackJsonpchris-tictactoe"]=this["webpackJsonpchris-tictactoe"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n(23),s=n.n(c),i=(n(30),n(4)),o=n(5),u=n(7),l=n(6),m=(n(31),n(17)),h=n(2),d=n(12),b=n.n(d),p=n(15),j=n(10),f=(n(33),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(a.jsx)("input",{onClick:this.props.onClick,type:"button",className:"btnRst",value:this.props.value})}}]),n}(r.Component)),x=(n(34),{save:function(e){return Object(p.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,JSON.stringify(e);case 3:return e=t.sent,t.next=6,localStorage.setItem("game_data",e);case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},generateData:function(e,t,n){return{maxRounds:e,roundNumber:1,gameover:!1,p1:{nickname:t,score:0},p2:{nickname:n,score:0}}},nextRound:function(e){var t=this.load(),n={p1:{nickname:t.p1.nickname,score:1===e.winner.player?++t.p1.score:t.p1.score},p2:{nickname:t.p2.nickname,score:2===e.winner.player?++t.p2.score:t.p2.score}};return Math.trunc(t.maxRounds/2)<n.p1.score||Math.trunc(t.maxRounds/2)<n.p2.score?{winner:n.p1.score>n.p2.score?1:2,p1:n.p1,p2:n.p2,gameover:!0}:{maxRounds:t.maxRounds,roundNumber:++e.roundNumber,gameover:!1,p1:n.p1,p2:n.p2}},load:function(){return JSON.parse(localStorage.getItem("game_data"))}}),v={themes_data:{dark:{title:"Dark Theme",bgc:"#123",hover:"#374757",border:"#25323f",textColor:"#fff"},blue:{title:"Blue Theme",bgc:"#2367ac",hover:"#4981b9",border:"#0c59a7",textColor:"#fff"}},getStyle:function(e,t){return window.getComputedStyle(e).getPropertyValue("--"+t)},loadThemes:function(){var e=localStorage.getItem("theme"),t=e?JSON.parse(e):this.themes_data.dark;this.setTheme(t)},setTheme:function(e){var t=document.querySelector("html");t.style.setProperty("--bgc",e.bgc),t.style.setProperty("--hover",e.hover),t.style.setProperty("--border",e.border),t.style.setProperty("--text-color",e.textColor),this.save(e)},save:function(e){localStorage.setItem("theme",JSON.stringify(e))}},k=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={maxRounds:1,redirect:!1,nicknameP1:"Player 1",nicknameP2:"Player 2",inputP1:"",inputP2:""},a.setRounds=a.setRounds.bind(Object(j.a)(a)),a.changeTheme=a.changeTheme.bind(Object(j.a)(a)),a}return Object(o.a)(n,[{key:"setRounds",value:function(e){this.setState({maxRounds:e})}},{key:"start",value:function(){var e=Object(p.a)(b.a.mark((function e(){var t,n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.maxRounds,n=this.state.nicknameP1,a=this.state.nicknameP2,e.next=5,x.generateData(t,n,a);case 5:return r=e.sent,e.next=8,x.save(r);case 8:this.setState({redirect:!0});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=localStorage.getItem("game_data")?x.load():{p1:{},p2:{}},t={};e.p1.nickname&&"Player 1"!==e.p1.nickname&&(t.nicknameP1=e.p1.nickname,t.inputP1=e.p1.nickname),e.p2.nickname&&"Player 2"!==e.p2.nickname&&(t.nicknameP2=e.p2.nickname,t.inputP2=e.p2.nickname),e.maxRounds&&(t.maxRounds=e.maxRounds),this.setState(t),localStorage.removeItem("game_data"),v.loadThemes()}},{key:"changeTheme",value:function(e){switch(e){case 0:v.setTheme(v.themes_data.dark);break;case 1:v.setTheme(v.themes_data.blue);break;default:v.setTheme(v.themes_data.dark)}}},{key:"render",value:function(){var e=this;return this.state.redirect?Object(a.jsx)(h.a,{to:"/ticTacToe"}):Object(a.jsxs)("div",{className:"GameSettings",children:[Object(a.jsx)("div",{className:"themesSets",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(f,{onClick:function(){return e.changeTheme(0)},value:v.themes_data.dark.title})}),Object(a.jsx)("li",{children:Object(a.jsx)(f,{onClick:function(){return e.changeTheme(1)},value:v.themes_data.blue.title})})]})}),Object(a.jsxs)("div",{className:"rounds",children:[Object(a.jsx)("h1",{children:"Rounds: "}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(f,{onClick:function(){return e.setRounds(1)},value:"1"})}),Object(a.jsx)("li",{children:Object(a.jsx)(f,{onClick:function(){return e.setRounds(3)},value:"3"})}),Object(a.jsx)("li",{children:Object(a.jsx)(f,{onClick:function(){return e.setRounds(5)},value:"5"})})]})]}),Object(a.jsxs)("div",{className:"players",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Player 1: "}),Object(a.jsx)("input",{type:"text",placeholder:"Name...",className:"inputNickname",onChange:function(t){return e.setState({inputP1:t.target.value,nicknameP1:t.target.value})},value:this.state.inputP1})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Player 2: "}),Object(a.jsx)("input",{type:"text",placeholder:"Name...",className:"inputNickname",onChange:function(t){return e.setState({inputP2:t.target.value,nicknameP2:t.target.value})},value:this.state.inputP2})]})]}),Object(a.jsx)("div",{children:Object(a.jsx)(f,{onClick:function(){return e.start()},value:"Start!"})})]})}}]),n}(r.Component),O=n(13),g=n.n(O),y=(n(40),n(41),n(42),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"board",children:this.props.children})}}]),n}(r.Component)),_=(n(43),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"field",onClick:this.props.click,children:this.props.children})}}]),n}(r.Component)),S=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={game:{p1:{nickname:""},p2:{nickname:""}},board:["","","","","","","","",""],symbols:{options:["X","O"],turn_index:Math.round(Math.random(0,1)),change:function(){this.turn_index=0===this.turn_index?1:0}},winning_sequences:[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],gameover:!1,redirect:!1},a.make_play=a.make_play.bind(Object(j.a)(a)),a.check_winning_sequences=a.check_winning_sequences.bind(Object(j.a)(a)),a.check_tied=a.check_tied.bind(Object(j.a)(a)),a.alert=a.alert.bind(Object(j.a)(a)),a.scoreBoard=a.scoreBoard.bind(Object(j.a)(a)),a.start=a.start.bind(Object(j.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=x.load();this.setState({game:e}),v.loadThemes()}},{key:"make_play",value:function(){var e=Object(p.a)(b.a.mark((function e(t){var n,a,r,c,s,i,o,u=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.gameover){e.next=2;break}return e.abrupt("return",!1);case 2:if(""!==this.state.board[t]){e.next=27;break}if((n=this.state.board)[t]=this.state.symbols.options[this.state.symbols.turn_index],this.setState({board:n}),!(this.check_winning_sequences(this.state.symbols.options[this.state.symbols.turn_index])>=0)){e.next=22;break}if(this.setState({gameover:!0}),a=this.state,r={roundNumber:a.game.roundNumber,winner:{player:"X"===a.symbols.options[a.symbols.turn_index]?1:2}},!0!==(c=x.nextRound(r)).gameover){e.next=17;break}s={title:"Winner: ".concat(1===c.winner?c.p1.nickname:c.p2.nickname),text:"\n                        <strong>".concat(this.state.game.p1.nickname,"</strong>: ").concat(c.p1.score,"<br>\n                        <strong>").concat(this.state.game.p2.nickname,"</strong>: ").concat(c.p2.score,"<br><br>\n\n                        Settings?\n                        \n                        "),icon:"success",confirmText:"Yes!",confirmValue:function(){return u.setState({redirect:!0})},canceledValue:function(){}},setTimeout((function(){return u.alert(s)}),150),e.next=20;break;case 17:return e.next=19,x.save(c);case 19:g.a.fire({title:"Next round",html:"Next round in <b></b> milliseconds.",timer:700,timerProgressBar:!0,onBeforeOpen:function(){g.a.showLoading(),i=setInterval((function(){var e=g.a.getContent();if(e){var t=e.querySelector("b");t&&(t.textContent=g.a.getTimerLeft())}}),100)},onClose:function(){clearInterval(i),u.start()}}).then((function(e){e.dismiss,g.a.DismissReason.timer}));case 20:e.next=24;break;case 22:this.state.symbols.change(),this.check_tied()&&(this.setState({gameover:!0}),o={title:"We Tied",text:"Restart?",icon:"info",confirmText:"Yes!",cancelText:"No!",confirmValue:function(){},canceledValue:function(){}},setTimeout((function(){return u.alert(o)}),150));case 24:return e.abrupt("return",!0);case 27:return e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"check_winning_sequences",value:function(e){var t=this,n=-1;return this.state.winning_sequences.map((function(a,r){t.state.board[t.state.winning_sequences[r][0]]===e&&t.state.board[t.state.winning_sequences[r][1]]===e&&t.state.board[t.state.winning_sequences[r][2]]===e&&(n=r)})),n}},{key:"check_tied",value:function(){var e=this,t=!0;return this.state.board.map((function(n,a){""===e.state.board[a]&&(t=!1)})),t}},{key:"alert",value:function(e){var t=this;g.a.mixin({customClass:{confirmButton:"btn btn-success confirmBtn",cancelButton:"btn btn-secondary cancelBtn"},buttonsStyling:!1}).fire({title:e.title,html:e.text,icon:e.icon,showCancelButton:!!e.cancelText,confirmButtonText:e.confirmText,cancelButtonText:e.cancelText,reverseButtons:!0}).then((function(n){n.value?(t.start(),e.confirmValue()):n.dismiss===g.a.DismissReason.cancel&&e.canceledValue()}))}},{key:"scoreBoard",value:function(){var e=x.load();alert("\n            ".concat(e.p1.nickname,": ").concat(e.p1.score,"\n            ").concat(e.p2.nickname,": ").concat(e.p2.score,"\n        "))}},{key:"start",value:function(){var e=this.state.symbols,t=this.state.board;e.turn_index=Math.round(Math.random(0,1)),t.fill(""),this.setState({symbols:e,board:t,gameover:!1})}},{key:"render",value:function(){var e=this;return this.state.redirect?Object(a.jsx)(h.a,{to:"/"}):Object(a.jsxs)("div",{className:"Game",children:[Object(a.jsxs)("h1",{className:"player",children:["Turn: ","X"===this.state.symbols.options[this.state.symbols.turn_index]?this.state.game.p1.nickname:this.state.game.p2.nickname," (",this.state.symbols.options[this.state.symbols.turn_index],")"]}),Object(a.jsx)(y,{children:this.state.board.map((function(t,n){return Object(a.jsx)(_,{click:function(){return e.make_play(n)},children:t},n)}))}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)(m.b,{to:"/",children:Object(a.jsx)(f,{value:"Settings"})}),Object(a.jsx)(f,{onClick:function(){return e.scoreBoard()},value:"Score Board"}),Object(a.jsx)(f,{onClick:function(){return e.start()},value:"Restart"})]})]})}}]),n}(r.Component),T=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(a.jsx)(m.a,{children:Object(a.jsxs)(h.d,{children:[Object(a.jsx)(h.b,{exact:!0,path:"/",component:k}),Object(a.jsx)(h.b,{path:"/ticTacToe",component:S})]})})}}]),n}(r.Component),C=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(a.jsx)(T,{})}}]),n}(r.Component);s.a.render(Object(a.jsx)(C,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.1b501d78.chunk.js.map